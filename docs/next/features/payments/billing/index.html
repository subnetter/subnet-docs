<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-features/payments/billing">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<title data-rh="true">Users Billing Design | Subnet</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://subnet.wtf/docs/next/features/payments/billing"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Users Billing Design | Subnet"><meta data-rh="true" name="description" content="Provider Service Terms"><meta data-rh="true" property="og:description" content="Provider Service Terms"><link data-rh="true" rel="icon" href="/icon.png"><link data-rh="true" rel="canonical" href="https://subnet.wtf/docs/next/features/payments/billing"><link data-rh="true" rel="alternate" href="https://subnet.wtf/docs/next/features/payments/billing" hreflang="en"><link data-rh="true" rel="alternate" href="https://subnet.wtf/docs/next/features/payments/billing" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.21751c3a.css">
<link rel="preload" href="/assets/js/runtime~main.c7eb494e.js" as="script">
<link rel="preload" href="/assets/js/main.20134d74.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/icon.svg" alt="Subnet Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/icon.svg" alt="Subnet Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Subnet</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/features/payments/billing">Next</a></li><li><a class="dropdown__link" href="/docs/features/payments/billing">0.1.0</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Subnet<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/features/payments/billing">latest version</a></b> (<!-- -->0.1.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Users Billing Design</h1></header><h3 class="anchor anchorWithStickyNavbar_LWe7" id="provider-service-terms">Provider Service Terms<a class="hash-link" href="#provider-service-terms" title="Direct link to heading">​</a></h3><p>Service providers determine the <code>pricing model</code> for client services. Pricing model can be a <code>fixed monthly fee</code> or <code>pay-per-use</code>.</p><p>In the <code>pay-per-use</code> model <code>billable items</code> define service items which clients need to pay for, such as cost per message delivered from another user to a serviced user. Providers publish the model and the billable items it in their public <code>Service Terms Bundle</code>. The bundle is a signed commitment from provider for the terms of service for new users.</p><p>Providers may set a <code>free trial period</code> for both pricing model. Users get free service for the duration of the period from the time they sign on with a provider.</p><p>The Subnet DAO may airdrop coin grants to early adopters of the platform to cover any payments for the first few months and to bootstrap the Subnet network. These grants may require proof of humanity to prevent sibyl attacks on the distribution.</p><p>Providers may set a <code>registration fee</code>. Users need to pay this fee to sign-up to the service. When a trial period ends and a registration fee are set, users needs to pay the registration fee at the end of the free trial period.</p><p>Provider publish service terms for new users in their <code>identity bundle</code> so they are available via the provider&#x27;s <code>public api</code> and via the Subnet blockchain public interface.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="service-terms-bundle">Service Terms Bundle<a class="hash-link" href="#service-terms-bundle" title="Direct link to heading">​</a></h4><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">message</span><span class="token plain"> </span><span class="token class-name">ServiceTermsBundle</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token positional-class-name class-name">EntityId</span><span class="token plain"> provider_id </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// Provider public id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token positional-class-name class-name">unp</span><span class="token positional-class-name class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token positional-class-name class-name">payments</span><span class="token positional-class-name class-name punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token positional-class-name class-name">ServiceTerms</span><span class="token plain"> service_terms </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// new users service terms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token positional-class-name class-name">Signature</span><span class="token plain"> signature </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// bundles are self contained and are signed by provider</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="service-terms">Service Terms<a class="hash-link" href="#service-terms" title="Direct link to heading">​</a></h4><div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">enum</span><span class="token plain"> </span><span class="token class-name">ServiceContractOptions</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  PAY_PER_USAGE </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  PAY_FIXED_MONTHLY</span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">message</span><span class="token plain"> </span><span class="token class-name">ServiceTerms</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint64</span><span class="token plain"> id </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// unique referable contract id.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint64</span><span class="token plain"> created </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// date created. valid from this date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint64</span><span class="token plain"> valid_until </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// end of time period provider commits to provide service with these prices</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token builtin" style="color:rgb(189, 147, 249)">bytes</span><span class="token plain">  user_id </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// Contract is only for this user. 0 for offers for new users.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// pricing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint32</span><span class="token plain"> free_trial_period </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">// free trial period for new users in weeks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token positional-class-name class-name">Amount</span><span class="token plain"> min_balance </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// required min balance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint32</span><span class="token plain"> max_balance </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// required max balance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token positional-class-name class-name">Amount</span><span class="token plain"> balance </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// user&#x27;s balance at date of message creation if terms are for a user</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token positional-class-name class-name">Amount</span><span class="token plain"> routing_msg_base_cost </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">9</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// base cost for message routing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token positional-class-name class-name">Amount</span><span class="token plain"> routing_msg_cost_per_byte </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// cost for message routing per byte</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token positional-class-name class-name">Amount</span><span class="token plain"> data_store_per_byte </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">11</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// store per byte per monthly cost</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token positional-class-name class-name">Amount</span><span class="token plain"> registration_fee </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">12</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// Optional registration fee</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token positional-class-name class-name">Amount</span><span class="token plain"> monthly_fixed_fee </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">13</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// option for fixed monthly fee instead of pay-per-usage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint64</span><span class="token plain"> max_user_storage_space </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">14</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// max storage per user limit in bytes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token builtin" style="color:rgb(189, 147, 249)">uint64</span><span class="token plain"> max_file_size </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">15</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// max supported routed file size in bytes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token positional-class-name class-name">Address</span><span class="token plain"> payable_account </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">16</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// provider&#x27;s blockchain account to receive transactions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="users-start-of-service">Users Start of Service<a class="hash-link" href="#users-start-of-service" title="Direct link to heading">​</a></h2><p>Client is able to obtain from the network and display to its user the <code>new users service terms</code> of any provider based on provider public id. This information is available from the Subnet blockchain public API provided by any Subnet blockchain node, from the Subnet Dao or, any a web directory service or from provider&#x27;s web site or social media profile.</p><p>Users should review the service terms received from a provider on their clients, before they ask their clients to start being serviced from a new provider.</p><p>When user decides to start using a provider, the user&#x27;s client sends the provider a request to start servicing it. The request includes the service terms that the user agreed to.</p><p>Service terms are always defined to be valid for a finite period of time. They apply for a user from the time that the user started the service with the provider until their set expiration time. Once provider accepted a new user request for service, the terms the user agreed to become the <code>effective terms of service</code> between the user and its provider.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Users must have an <code>effective terms of service</code> with their provider at all times to use Subnet services and apps. Once the term expire, users need to agree to new terms of service currently offered by the the provider, or to migrate to another provider and agree to that provider terms of service, or to stop using Subnet. See below for additional information about service terms renewal and service termination.</p></div></div><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-pay-per-use-pricing-model">The Pay-Per-Use Pricing Model<a class="hash-link" href="#the-pay-per-use-pricing-model" title="Direct link to heading">​</a></h2><p>Users are charged for network services by their providers in <code>Subnet Cryptocurrency</code> $SUB coins. When a user has a pay-per-use service agreement with its provider, he must include a signed <code>payment authorization</code> for the cost of one or more network operation with each SUB operation messages it sends to its provider when using the service. The prices should come from the user&#x27;s <code>effective service terms</code> with its provider.</p><p><code>Payment Authorization</code> is a signed and dated payment commitment for a specific coin amount that references an operation or an item. For example, when a client wants to download several available messages from its provider, it prepares a service payment for the total delivery price of the messages and references the messages unique ids in the authorization. For additional details see the <a href="/">sending messages</a> and <a href="/">receiving messages</a> walkthroughs.</p><p>Payment authorization are used to bill users for provider services.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Note that by design, creating a service payment is simple, cheap and fast and doesn&#x27;t involve any blockchain or payment network operation. In addition, providers cannot overcharge users as charges can only include user-approved signed payments authorizations.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="balance">Balance<a class="hash-link" href="#balance" title="Direct link to heading">​</a></h3><p><code>Balance</code> is an Subnet accounting concept used for charging users for receiving network services from their providers based on payment history, usage, and provider pricing. The balance is an $SUB coin amount. Each user has a balance with its Provider. Each user and provider maintain the balance for the user based on user&#x27;s coin payment transactions to the provider and user signed charges.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Each user&#x27;s balance is equal to the total $SUB coins amount transferred by the user to its provider via blockchain transactions minus the total amount of provider&#x27;s charges approved and signed by the user.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-balance">Minimum Balance<a class="hash-link" href="#minimum-balance" title="Direct link to heading">​</a></h3><p>Service providers determine a <code>minimum balance</code> amount which they require their users to maintain at all times. The minimum balance for new users is advertised in the provider&#x27;s service terms bundle.</p><p>The minimum balance is used to periodically balance client charges. This feature is designed so users need to execute a blockchain transaction (which incurs transaction fees) only once every few calendar months, so there are zero transaction fees on ongoing user payments to provider. Since most Subnet payments will be very small (e.g. fraction of a cent or few cents), this feature is critical to make the service affordable to users because otherwise blockchain transaction fee can easily make each payment significantly more expensive.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Users need to pay providers via a cryptocurrency transaction to bring their account&#x27;s balance up to the minimum balance when their account balance with the provider goes below the minimum balance due to new billable items.</p></div></div><p>Providers may change the <code>minimum balance</code> requirement for a user based on that user&#x27;s past service usage and changes in $SUB fiat pricing or on any other competitive consideration in the providers market. For example, heavy-usage users may be required to have a higher minimum balance than casual baseline users.</p><p>Due to the core $SUB currency likely price volatility and service providers competing with each other for users, it is likely that providers will also need to adjust the monthly prices of billable services, and the minimum balance required in order to remain competitive with other providers and to reflect $SUB price changes over time.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="users-accounting">Users Accounting<a class="hash-link" href="#users-accounting" title="Direct link to heading">​</a></h3><p>Provider maintains payment data for each serviced user. The data includes:</p><ol><li>All <code>payments authorizations</code> signed and submitted by the user.</li><li>The user <code>effective service terms</code> which include the user&#x27;s required <code>minimum balance</code>.</li><li>All blockchain payment transactions made by the user to the provider to maintain its balance.</li></ol><p>The user&#x27;s <code>current balance</code> is computed based on user&#x27;s payment authorizations (debits) and user blockchain payment to the provider as credits.
For example, if user paid 10 $SUB via a blockchain transactions and signed payment authorizations with a total of 6 $SUB then its current balance is 4 $SUB.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>This design enables providers to update serviced users ledger efficiently, without having to perform an expensive blockchain transaction or a blockchain payment network operation, while users can&#x27;t be overcharged for network services as all dated users bill items must be user-signed. Not having payments on a blockchain payment network avoid having to make security and privacy compromises.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="start-of-service">Start of Service<a class="hash-link" href="#start-of-service" title="Direct link to heading">​</a></h3><p>Provider can trivially check at any time if the <code>current balance</code> gets close or goes below the <code>minimum balance</code> for any serviced user and send to the user&#x27;s client a request to make a blockchain transaction to bring the user&#x27;s <code>current balance</code> above the minimum.</p><p>To start receiving service from a provider, user must to pay (via a blockchain transaction) an amount equal to double of the <code>minimum balance</code> amount and a <code>service registration</code> fee in the case that the provider&#x27;s service term require it. This is designed so users start being serviced with a positive balance above the minimum balance.</p><p>For example, if a provider minimum balance is 5 $SUB, then user pays 10 $SUB so its current free balance is 5 $SUB above the minimum at service start time.</p><p>The basic idea is that user&#x27;s balance should always be between double the minimum balance and the minimum balance. Users are also given sufficient time to pay providers for services even when their balance goes below the minimum balance but is still positive.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="billing">Billing<a class="hash-link" href="#billing" title="Direct link to heading">​</a></h2><p>When a user&#x27;s <code>current balance</code> goes close or below to the <code>minimum balance</code>, its provider sends him an an invoice which includes a <code>payment request</code>. The payment request includes a list of all of the user&#x27;s signed payment authorizations (debits) since the last user last payment to the provider.</p><p>The payment request amount is set by the provider so the user&#x27;s <code>current balance</code> will be double of the <code>minimum free balance</code> after the user makes the payment.</p><p>As soon as a user gets a <code>payment request</code> via its client, it should pay the payment request amount to the provider within a reasonable period of time to keep getting services from the provider. User is expected to make a blockchain transaction payment for the requested payment amount.</p><p>In case that the user doesn&#x27;t make the payment in a reasonable period of time and its current balance goes below 50% of the <code>minimum balance</code>, the provider is entitled to stop serving the user.</p><p>This is designed to give users sufficient time to make a periodical payment to their providers without suffering service disruptions while making sure providers are paid for the network services they provide. Users can also configure their clients to make this payment automatically from a spending $SUB coins wallet as long as it is within user&#x27;s set monthly budget for network services.</p><p>This design ensures that there&#x27;s only one blockchain transaction per user when his balance goes below the 25% threshold based on his actual paid provided services usage, regardless of the number of billed service operations between client and its provider, and the billing design is secure. This is important as we want to scale the Subnet platform to millions of users and minimize the number of required blockchain transactions per user while having a secure payments design.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-fixed-monthly-payment-model">The Fixed Monthly Payment Model<a class="hash-link" href="#the-fixed-monthly-payment-model" title="Direct link to heading">​</a></h2><p>When a user signs up to a fixed monthly fee plan with a provider, it initially pays for at least one month of service when starting the service.</p><p>Users are responsible to pay for the next calendar month of service before or on the last week of the previous month to avoid service disruptions.</p><p>User can configure its client to automatically pay the monthly fee to keep being serviced without having to take any action, and the provider can stop servicing the user if such payments are not received.</p><p>Users may also pay for several months at a time to reduce transaction fees and the frequency of manual transactions they need to make.</p><p>Provider can stop servicing a user if a payment that covers a service month was not received before the first day of that calendar month.</p><p>When this model is used, users do NOT send <code>payments authorizations</code> to their provider and there are no provider <code>billable service items</code> used to charge users.</p><p>In addition, provider doesn&#x27;t issue invoices and requests for payments.</p><p>Providers provide an api for clients to query the period of time for which they have paid for services to enable new clients who lost local data to determine when payments are due.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-renewal">Service Renewal<a class="hash-link" href="#service-renewal" title="Direct link to heading">​</a></h3><p>The providers commits to a <code>monthly service price</code> for services in their published terms of service. Terms of service always have a specific expiration time. Which is always set to the last day of a calendar month.</p><p>Close to the expiration time, the provider and the user must agree to new terms of service that cover an additional time period starting at the current service terms expiration time. Provider may request to change its <code>monthly service price</code> for services at that time.</p><p>When the current <code>effective terms of service</code> of a user with its provider are close to expiration, the provider sends the user via its client a proposal for service terms for a new time period starting at the expiration date. The provider is free to change the pricing and service terms based on market conditions, user&#x27;s actual monthly usage patters or any other reason.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>This is designed to enable providers to adjust service pricing based on overall service demand, competitive forces and volatility in the Subnet cryptocurrency fiat money value.</p></div></div><p>The user is free to accept the new terms or to stop being serviced by the provider and move to another service provider.</p><p>When a user accepts the new terms, they become effective form the current terms expiration dates until their published expiration date.</p><p>New proposed service terms are sent in a message from the provider to the user&#x27;s client when the client connect to the provider to receive new messages. The user needs to pay for network services based on the new terms and pricing before the new terms go in effect.</p><p>In the case where provider is offering both a fixed monthly plan and a pay-per-use plan, user may also switch between these plans.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="client-payments">Client Payments<a class="hash-link" href="#client-payments" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pay-per-use-model">Pay-per-use Model<a class="hash-link" href="#pay-per-use-model" title="Direct link to heading">​</a></h3><p>Each user sets a monthly <code>spending amount allowance</code> that its client can spend on network services on the user&#x27;s behalf without an explicit interactive user authorization.</p><p>This is an important design decision as there can be many thousands of <code>payment authorizations</code> in a typical usage month under a <code>pay-per-usage</code> plan and it is impractical to ask for explicit user confirmation for each <code>payment authorization</code>.</p><p>Most payment authorizations are likely to be in the range of a fraction of a US cent up to few US Cents.</p><p>User&#x27;s client maintains a ledger of all <code>payments authorizations</code> it sent to the provider over time. When these payments go over the allowance in the current calendar month, the client notifies its user and requests him to increase the monthly <code>spending amount allowance</code>.</p><p>When a new <code>payment request</code> is received from the user&#x27;s provider, client verifies it and pays it automatically by sending the provider a signed blockchain transaction for the invoiced amount to the provider&#x27;s blockchain payment account. Payment request verification involves verifying the user&#x27;s signature on all payment authorizations reported by the provider and a previously verified user&#x27;s balance amount.</p><p>If the user doesn&#x27;t pay the payment request, and its current balance gets to zero, then its service provider is allowed to suspend servicing the user until such payment is received.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pay-per-use-model-1">Pay-per-use Model<a class="hash-link" href="#pay-per-use-model-1" title="Direct link to heading">​</a></h3><p>User may configure its client to automatically pay one or few months of service fees on its behalf. User can stop these automated payments if it wants to manually authorize each of these payments when they are due or when it decides to not renew the service it receives from its provider.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-termination">Service Termination<a class="hash-link" href="#service-termination" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pay-per-use-model-2">Pay-per-use Model<a class="hash-link" href="#pay-per-use-model-2" title="Direct link to heading">​</a></h3><p>When a user wishes to stop receiving services from its provider, it should send it a service termination request. Upon receiving such a request, provider should keep servicing the client until the last date of the user&#x27;s current effective terms of service but it should not send the user proposed terms of service for an additional period of time.</p><p>At the time of the service end-date, as defined in the service agreement, the provider should refund the user for his <code>current balance</code> via a blockchain transaction that must be submitted and executed in up to two weeks from the end of service date.</p><p>In case that the transaction was not executed, user may initiate a blockchain <code>dispute resolution procedure</code>. The user publishes a <code>service termination dispute transaction</code> to the blockchain with the amount it claims it should have received from the provider. In this case, provider must pay this amount to the user, provide alternative evidence such as payment authorizations signed by the user that were not submitted by the user in the dispute transaction, or be fined by the blockchain protocol.</p><p>The fine is executed by a transaction from the user to the dispute smart contract. Providers must all have a deposit in that contract and fines for wrong charges are deducted from that deposit. Providers must maintain a minimum amount locked in the contract to pay possible fines.</p><p>We expect dispute transactions to be rare as they are a provable deterrence mechanism.</p><p>TODO: outline dispute resolution smart contract system.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pay-per-use-model-3">Pay-per-use Model<a class="hash-link" href="#pay-per-use-model-3" title="Direct link to heading">​</a></h3><p>User terminates the service by simply not to paying its provider with a transaction for the next due monthly payment transaction. When this happens, the provider simply terminates the user&#x27;s service at the end of the last day of the calendar month that the user paid for services for. There is no need for a dispute resolution mechanism in this model.</p><p>It is the user&#x27;s responsibility to enter a new service agreement with another provider that starts on the day in which the old service is terminated so the new provider may update the user&#x27;s network public information (client identity bundle) on that date. Updating the client identity in the SUB Blockchain is required for other users clients to be able to communicate with the user and get content from its client via its new service provider.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-migration">Data Migration<a class="hash-link" href="#data-migration" title="Direct link to heading">​</a></h3><p>User&#x27;s clients is capable to migrate all user&#x27;s data to a new provider. As most data is stored in the client and not in service providers, the migration process is relatively straight forward. User signs up to receive service from a new service provider and that provider publishes a new user identity bundle to the Subnet blockchain. User&#x27;s old providers answers user service related network requests with a response that indicates that the user is no longer serviced by the provider. When another client or service provider receives this message, it should check the Subnet blockchain for the new user&#x27;s provider bundle and start using this provider to communicate with the user.</p><p>TODO: add example here. This is migration flow...</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="free-trails">Free Trails<a class="hash-link" href="#free-trails" title="Direct link to heading">​</a></h2><p>Subnet is a very different platform than legacy social media and other digital communications apps. It is expected that many new users will find the platform billing and payment designs confusing and non-intuitive. Providers are encouraged to provide a free service layer for a period of 3 months to new users.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The free trial period is specified in the provider&#x27;s <code>ServiceTerms</code> for new users.</p></div></div><p>Users who start using the service on an on-going basis will need to convert to fully paying users after the free trial period ends to continue using the platform&#x27;s services.</p><p>Providers can verify that users didn&#x27;t hop from a different provider before signing them on to the free service by checking the user blockchain payment transactions and are free to decide not to offer a free trial period for users based on their platform usage history.</p><p>If Subnet is going to provide real value to users, then the inconvenience of creating a new user account from scratch every few months and move to a new provider, will not be worth-while for vast majority of users as most users want to be honest if the platform will make it easy enough to act honestly.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pay-per-use-model---the-happy-flow---a-concrete-example">Pay per Use Model - The Happy Flow - A Concrete Example<a class="hash-link" href="#pay-per-use-model---the-happy-flow---a-concrete-example" title="Direct link to heading">​</a></h2><ol><li><p>Provider SPA advertises a <code>minimum balance</code> requirement of 100 $SUB for new users in its service terms bundle. The bundle is publicly published on the Subnet blockchain.</p></li><li><p>Client A selects SPA as its service provider and submits a blockchain transaction to it for 200 $SUB so its <code>current balance</code> is set to double of the minimum balance.</p></li><li><p>Client A uses the platform via SPA and send signed <code>payment authorizations</code> to SPA per the Subnet network protocol specs.</p></li><li><p>Provider SPA stores the client&#x27;s signed <code>payment authorizations</code>, and updates the client&#x27;s balance based on the authorized amounts (debits).</p></li><li><p>When user&#x27;s <code>current balance</code> gets close to 100 $SUB due to ongoing usage charges, the provider sends the user&#x27;s client a <code>payment request</code> message with a request to pay 100 $SUB to the provider and to bring the user&#x27;s <code>current balance</code> back to the double of the <code>minimum balance</code>.</p></li><li><p>Client A sends Provider SPA a signed blockchain transaction for 100 $SUB and the
provider submits it to the blockchain via the Cryptocurrency Node it operates.</p></li><li><p>When the transaction is confirmed, Provider SPA adds 100 $SUB to the user&#x27;s current balance as credit.</p></li><li><p>Go to step 3.</p></li></ol><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-to-user-payments">User to User Payments<a class="hash-link" href="#user-to-user-payments" title="Direct link to heading">​</a></h2><p>For this release of the platform, user-to-user payments are implemented with blockchain transactions.</p><p>When a user wants to pay another user, or to buy an item from a user, its client signs a blockchain transaction and submits it via its provider (or via any public api of the Subnet public blockchain).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-user-obtains-the-transaction-id-and-sends-it-in-a-message-to-the-payee-when-the-payee-gets-the-message-it-can-verify-the-transactions-blockchain-finality-status-and-in-case-of-paid-items-only-send-the-digital-item-to-the-payer-or-subscribes-him-to-a-premium-user-offered-subscription-once-the-transaction-has-been-sufficiently-confirmed---based-on-the-transaction-confirmation-status">The user obtains the transaction id and sends it in a message to the payee. When the payee gets the message it can verify the transaction&#x27;s blockchain finality status, and in case of paid items, only send the digital item to the payer (or subscribes him to a premium user-offered subscription) once the transaction has been sufficiently confirmed - based on the transaction confirmation status.<a class="hash-link" href="#the-user-obtains-the-transaction-id-and-sends-it-in-a-message-to-the-payee-when-the-payee-gets-the-message-it-can-verify-the-transactions-blockchain-finality-status-and-in-case-of-paid-items-only-send-the-digital-item-to-the-payer-or-subscribes-him-to-a-premium-user-offered-subscription-once-the-transaction-has-been-sufficiently-confirmed---based-on-the-transaction-confirmation-status" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="allowances">Allowances<a class="hash-link" href="#allowances" title="Direct link to heading">​</a></h2><p>Users are expected to authorize their client to spend up to a <code>fixed monthly allowance</code> for provided network services.</p><p>This means that typical users will seldom need to execute an interactive blockchain transaction with their service provider for services. The exception is if user&#x27;s billable usage goes above the monthly allowance during a service month.</p><p>In this case, user needs to agree to increase the allowance and to pay the provider to increase its free balance. Another exception is that when provider increases free balance requirement and or feature pricing at a beginning of a month. In this case, user will need to explicitly approve the change of terms and potentially increase the allowance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-happy-flow">The Happy Flow<a class="hash-link" href="#the-happy-flow" title="Direct link to heading">​</a></h3><ol><li>User specifies a monthly allowance amount for spending on network services. e.g. 100 $SUB.</li><li>User&#x27;s client automatically signs <code>payment authorizations</code> on behalf of user without user interactive intervention throughout the month while the total payment amount is below the monthly allowance amount.</li><li>Client receives a request to update its balance from its provider, it executes the transaction if the request is below the monthly allowance amount without requiring user intervention.</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/upstter/docs/features/payments/billing.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-08-14T20:36:25.000Z">Aug 14, 2022</time></b> by <b>Aviv Eyal</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#provider-service-terms" class="table-of-contents__link toc-highlight">Provider Service Terms</a></li><li><a href="#users-start-of-service" class="table-of-contents__link toc-highlight">Users Start of Service</a></li><li><a href="#the-pay-per-use-pricing-model" class="table-of-contents__link toc-highlight">The Pay-Per-Use Pricing Model</a><ul><li><a href="#balance" class="table-of-contents__link toc-highlight">Balance</a></li><li><a href="#minimum-balance" class="table-of-contents__link toc-highlight">Minimum Balance</a></li><li><a href="#users-accounting" class="table-of-contents__link toc-highlight">Users Accounting</a></li><li><a href="#start-of-service" class="table-of-contents__link toc-highlight">Start of Service</a></li></ul></li><li><a href="#billing" class="table-of-contents__link toc-highlight">Billing</a></li><li><a href="#the-fixed-monthly-payment-model" class="table-of-contents__link toc-highlight">The Fixed Monthly Payment Model</a><ul><li><a href="#service-renewal" class="table-of-contents__link toc-highlight">Service Renewal</a></li></ul></li><li><a href="#client-payments" class="table-of-contents__link toc-highlight">Client Payments</a><ul><li><a href="#pay-per-use-model" class="table-of-contents__link toc-highlight">Pay-per-use Model</a></li><li><a href="#pay-per-use-model-1" class="table-of-contents__link toc-highlight">Pay-per-use Model</a></li></ul></li><li><a href="#service-termination" class="table-of-contents__link toc-highlight">Service Termination</a><ul><li><a href="#pay-per-use-model-2" class="table-of-contents__link toc-highlight">Pay-per-use Model</a></li><li><a href="#pay-per-use-model-3" class="table-of-contents__link toc-highlight">Pay-per-use Model</a></li><li><a href="#data-migration" class="table-of-contents__link toc-highlight">Data Migration</a></li></ul></li><li><a href="#free-trails" class="table-of-contents__link toc-highlight">Free Trails</a></li><li><a href="#pay-per-use-model---the-happy-flow---a-concrete-example" class="table-of-contents__link toc-highlight">Pay per Use Model - The Happy Flow - A Concrete Example</a></li><li><a href="#user-to-user-payments" class="table-of-contents__link toc-highlight">User to User Payments</a></li><li><a href="#the-user-obtains-the-transaction-id-and-sends-it-in-a-message-to-the-payee-when-the-payee-gets-the-message-it-can-verify-the-transactions-blockchain-finality-status-and-in-case-of-paid-items-only-send-the-digital-item-to-the-payer-or-subscribes-him-to-a-premium-user-offered-subscription-once-the-transaction-has-been-sufficiently-confirmed---based-on-the-transaction-confirmation-status" class="table-of-contents__link toc-highlight">The user obtains the transaction id and sends it in a message to the payee. When the payee gets the message it can verify the transaction&#39;s blockchain finality status, and in case of paid items, only send the digital item to the payer (or subscribes him to a premium user-offered subscription) once the transaction has been sufficiently confirmed - based on the transaction confirmation status.</a></li><li><a href="#allowances" class="table-of-contents__link toc-highlight">Allowances</a><ul><li><a href="#the-happy-flow" class="table-of-contents__link toc-highlight">The Happy Flow</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/SBUd85xNf9" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Subnet_platform" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/subnetdao" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Code</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/subnetter/subnet-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 by the Subnet Authors. This work is licensed under the <a href="/docs/license"> Subnet License</a>.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c7eb494e.js"></script>
<script src="/assets/js/main.20134d74.js"></script>
</body>
</html>