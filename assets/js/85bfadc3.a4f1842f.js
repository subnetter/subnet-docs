"use strict";(self.webpackChunksubnet=self.webpackChunksubnet||[]).push([[5646],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var r=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,i=function(e,t){if(null==e)return{};var a,r,i={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=r.createContext({}),d=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=d(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var a=e.components,i=e.mdxType,n=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=d(a),h=i,v=p["".concat(l,".").concat(h)]||p[h]||u[h]||n;return a?r.createElement(v,s(s({ref:t},c),{},{components:a})):r.createElement(v,s({ref:t},c))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=a.length,s=new Array(n);s[0]=p;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:i,s[1]=o;for(var d=2;d<n;d++)s[d]=a[d];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}p.displayName="MDXCreateElement"},5150:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>n,metadata:()=>o,toc:()=>d});var r=a(3117),i=(a(7294),a(3905));const n={id:"design",title:"User Data",sidebar_label:"User Data"},s=void 0,o={unversionedId:"features/data/design",id:"version-0.1.0/features/data/design",title:"User Data",description:"Overview",source:"@site/versioned_docs/version-0.1.0/features/data/design.md",sourceDirName:"features/data",slug:"/features/data/design",permalink:"/docs/features/data/design",draft:!1,editUrl:"https://github.com/upstter/versioned_docs/version-0.1.0/features/data/design.md",tags:[],version:"0.1.0",lastUpdatedBy:"Aviv Eyal",lastUpdatedAt:1660509385,formattedLastUpdatedAt:"Aug 14, 2022",frontMatter:{id:"design",title:"User Data",sidebar_label:"User Data"},sidebar:"version-0.1.0/someSidebar",previous:{title:"overview",permalink:"/docs/product/privacy/privacy"},next:{title:"Design Goals",permalink:"/docs/features/data/goals"}},l={},d=[{value:"Overview",id:"overview",level:2},{value:"Distributed Data Store",id:"distributed-data-store",level:2},{value:"User Keys Backup",id:"user-keys-backup",level:2},{value:"Backing-up Client Data using a Service Provider",id:"backing-up-client-data-using-a-service-provider",level:2},{value:"Backing-up Client Data without using a Provider",id:"backing-up-client-data-without-using-a-provider",level:2},{value:"Extending Client Data Storage Period",id:"extending-client-data-storage-period",level:2},{value:"Migrating to a new Client using Provider",id:"migrating-to-a-new-client-using-provider",level:2},{value:"Migrating to a new Client without using a Provider",id:"migrating-to-a-new-client-without-using-a-provider",level:2},{value:"Granting Access to User Data",id:"granting-access-to-user-data",level:2}],c={toc:d};function u(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,r.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"User data is stored in user's client devices, and is only accessible to the user using its client credentials.\nA user can security backup his client data to his service provider (or to any other storage cloud service provider or storage device)."),(0,i.kt)("p",null,"This data includes all content shared by the user, access lists to his channels (status updates and groups), user purchased digital items, and user for-sale digital content."),(0,i.kt)("p",null,"Backed-up data is always strongly encrypted and is only accessible to the user who owns the decryption keys."),(0,i.kt)("p",null,"User can restore backed-up client data from his provider at any time. This enables use cases such as restoration of user's data when user switches to a new client device when he has no access to old data on his older client device.\nUser can delete old shared data from his client at any time. This data will no longer be available to other users who still have access to it. This is useful when user is running out of storage space on his client device.\nSome content items shared over SUB between users are marked with a non-zero ttl by their authors. Clients automatically delete such data once the ttl expires. This helps reduce clients used storage size."),(0,i.kt)("h2",{id:"distributed-data-store"},"Distributed Data Store"),(0,i.kt)("p",null,"Subnet includes a fully decentralized data store which is design to store public identity bundles, a ledger with users and providers coin balances and service terms. This data store is implemented in the ",(0,i.kt)("inlineCode",{parentName:"p"},"SUB Blockchain"),". Bundles always have an expiration date, and the amount of data stored on the network is small even when it will have a large number of users, as bundles are small blobs of identity data and new bundles replace old ones."),(0,i.kt)("p",null," Providers runs an Subnet Blockchain nodes and provides the ",(0,i.kt)("inlineCode",{parentName:"p"},"Subnet Blockchain Service public API"),". Sybil attacks are mitigated due to a transaction fee associated with adding or updating data. Service providers pay transactions fee for new clients to make the onboarding experience smoother."),(0,i.kt)("h2",{id:"user-keys-backup"},"User Keys Backup"),(0,i.kt)("p",null,"Users are responsible to backup their private identity keys. When user's identity keys are lost, he will lose access to his identity and will need to create a new identity, and establish a new service with a service provider.\nThere are several methods to retrieve lost identity keys such as ",(0,i.kt)("inlineCode",{parentName:"p"},"social key retrieval")," that can be employed by the platform."),(0,i.kt)("p",null,"For example, splitting the key between a group of trusted third-parties and restoring keys from a social backup."),(0,i.kt)("p",null,"Users may use hardware wallets to manage his identity keys and coin accounts. In this case user needs to properly backup his wallet's seed phrase using a password manager, or have a paper wallet in order to restore keys later."),(0,i.kt)("p",null,"Users who hold large coin amounts are encouraged to use a hardware wallet to manage these funds and transfer small amounts to the client's hot-wallet for on-going platform payments. This way, even if user's hot wallet is hacked, user won't lose the majority of his funds."),(0,i.kt)("h2",{id:"backing-up-client-data-using-a-service-provider"},"Backing-up Client Data using a Service Provider"),(0,i.kt)("p",null,"Service provider advertises the price per byte per month it charges for stored user data as part of its service terms for users."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"User A chooses to backup his client data."),(0,i.kt)("li",{parentName:"ol"},"Client A creates an encrypted archive of all client data using a secret encryption key derived from the user's main identity key pair."),(0,i.kt)("li",{parentName:"ol"},"Client A compute the monthly storage cost for the archive for the current month and presents it to user."),(0,i.kt)("li",{parentName:"ol"},"User A confirms payment of the amount it to its provider and may choose to pay for several months.\n1.\xa0Client A pays the amount using the platform's crypto payments features, and obtains a receipt."),(0,i.kt)("li",{parentName:"ol"},"Client A uploads the data to the provider and includes the payment receipt and the payment period."),(0,i.kt)("li",{parentName:"ol"},"Service Provider verifies the payment and stores the encrypted user data.")),(0,i.kt)("h2",{id:"backing-up-client-data-without-using-a-provider"},"Backing-up Client Data without using a Provider"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Client asks user for backup password and uses kdf to device an AES encryption key from the user provided password."),(0,i.kt)("li",{parentName:"ol"},"Client backups all local data to a one local file encrypted with the AES key."),(0,i.kt)("li",{parentName:"ol"},"User copies the file to another storage device or stores it on the cloud.")),(0,i.kt)("h2",{id:"extending-client-data-storage-period"},"Extending Client Data Storage Period"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"When the paid period for its stored data is over. Service provider sends a message to Client A with a payment request."),(0,i.kt)("li",{parentName:"ol"},"User A pays for an additional period using Client A."),(0,i.kt)("li",{parentName:"ol"},"Client A sends the receipt to the provider."),(0,i.kt)("li",{parentName:"ol"},"Provider verifies the receipt.")),(0,i.kt)("p",null,"In the case that user doesn't extend the period by paying, provider removes the user data after a grace period is over."),(0,i.kt)("h2",{id:"migrating-to-a-new-client-using-provider"},"Migrating to a new Client using Provider"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"User backs up his Client A data to its provider and saves locally his identity key pair so they are accessible on his new device."),(0,i.kt)("li",{parentName:"ol"},"User A sets up a new client A on a new device or an existing device. He needs to keep his identity key pair and use them with the new client."),(0,i.kt)("li",{parentName:"ol"},"User A selects to restore data from provider."),(0,i.kt)("li",{parentName:"ol"},"Client A pays for the price of downloading the data from the provider and obtains a payment receipt."),(0,i.kt)("li",{parentName:"ol"},"Client A requests the data from the provider and provides the receipt. It downloads it, decrypts it and restores it on the client device.")),(0,i.kt)("h2",{id:"migrating-to-a-new-client-without-using-a-provider"},"Migrating to a new Client without using a Provider"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"User creates a backup bundle of all client data. Backup is encrypted and password protected."),(0,i.kt)("li",{parentName:"ol"},"User installs client on new device and restores data from bundle.")),(0,i.kt)("h2",{id:"granting-access-to-user-data"},"Granting Access to User Data"),(0,i.kt)("p",null,"Note that user may share any data (personal or otherwise) with another entity on the network securely and privately. This can include archives of structured and unstructured data items that are available on user's device. This is implemented using a file sharing protocol and features in clients."))}u.isMDXComponent=!0}}]);